import ReactECharts from "echarts-for-react";
import { moreInfoBtn } from "../../../assets/svgs";
import { GraphicalCardModel } from "../../../models/card.model";
import TimeTableFilter from "../TimeTableFilter";
import MoreActionsButton from "../MoreActionsButton";

const GraphicalCard = ({ sectionId, card, hasContainerParent }) => {
  const graphicalCard: GraphicalCardModel = card as GraphicalCardModel;
  const options = JSON.parse(graphicalCard.options);

  return (
    <div
      className={`responsive-container card ${
        hasContainerParent ? "container-card-child-height" : ""
      }`}
    >
      <div className="card__header">
        <div className="card__title font-base bold line-height-2xl">
          {graphicalCard.title}
        </div>

        <button className="card__more-info_btn">
          <img src={moreInfoBtn} alt="more info" />
        </button>

        <div className="card__more-info_content-container">
          <div className="card__more-info_content font-xs">
            {graphicalCard.description}
          </div>
        </div>

        <MoreActionsButton></MoreActionsButton>
      </div>

      {graphicalCard.hasTimeRangeFilter && (
        <TimeTableFilter sectionId={sectionId} cardId={card.id} />
      )}

      <ReactECharts option={options} className="graph-content" />
    </div>
  );
};

export default GraphicalCard;

/*
Graph 1:
{"grid":{"left":70,"right":20,"top":30,"bottom":45},"xAxis":{"type":"category","data":["04.05-10.05","11.05-17.05","18.05-24.05","25.05-31.05",""],"boundaryGap":false,"axisLine":{"lineStyle":{"color":"#e0e0e0"}},"axisLabel":{"margin":30,"align":"left","rotate":20,"fontSize":10,"color":"#484d49"}},"yAxis":{"type":"value","name":"ממוצע מאומתים","nameLocation":"middle","offset":10,"nameTextStyle":{"fontSize":14,"fontWeight":500,"fontFamily":"Open Sans","padding":[0,0,30,0]}},"series":[{"type":"line","step":"end","data":[8,11,6,9,""],"symbol":"circle","symbolSize":0.7,"itemStyle":{"color":"rgb(0, 208, 245)"},"lineStyle":{"color":"rgb(0, 208, 245)","width":2},"emphasis":{"focus":"series","scale":10,"itemStyle":{"color":"white","borderColor":"rgb(0, 208, 245)","borderWidth":2}},"label":{"show":true,"fontSize":14,"fontFamily":"Open Sans","color":"#333","padding":[0,0,0,50]},"markArea":{"itemStyle":{"color":"rgba(0, 237, 245, 0.03)"},"data":[[{"xAxis":"04.05-10.05"},{"xAxis":"11.05-17.05"}],[{"xAxis":"18.05-24.05"},{"xAxis":"25.05-31.05"}]]}}]}
*/

/*
Graph 2:
{"tooltip":{"trigger":"axis","axisPointer":{"type":"line","axis":"x"},"backgroundColor":"#fff","borderColor":"#ddd","borderWidth":1,"textStyle":{"fontFamily":"Arial","fontSize":12,"color":"#333"},"extraCssText":"direction: rtl; text-align: right; padding: 10px;"},"legend":{"right":0,"align":"right","itemGap":20,"itemWidth":15,"icon":"circle","data":[{"name":"16-19","icon":"circle"},{"name":"12-15","icon":"circle"},{"name":"5-11","icon":"circle"},{"name":"0-4","icon":"circle"}]},"grid":{"left":65,"top":45,"bottom":110},"xAxis":{"name":"\u05EA\u05D0\u05E8\u05D9\u05DA","nameLocation":"middle","nameTextStyle":{"color":"black","fontSize":14,"fontFamily":"Open Sans","padding":[15,0,0,0]},"offset":10,"type":"category","data":["11-12-2024","12-12-2024","13-12-2024","14-12-2024","15-12-2024","16-12-2024","17-12-2024","18-12-2024","19-12-2024","20-12-2024","21-12-2024","22-12-2024","23-12-2024","24-12-2024","25-12-2024","26-12-2024","27-12-2024","28-12-2024","29-12-2024","30-12-2024","31-12-2024","01-01-2025","02-01-2025","03-01-2025","04-01-2025","05-01-2025","06-01-2025","07-01-2025","08-01-2025","09-01-2025","10-01-2025","11-01-2025","12-01-2025","13-01-2025","14-01-2025","15-01-2025","16-01-2025","17-01-2025","18-01-2025","19-01-2025","20-01-2025","21-01-2025","22-01-2025","23-01-2025","24-01-2025","25-01-2025","26-01-2025","27-01-2025","28-01-2025","29-01-2025","30-01-2025","31-01-2025","01-02-2025","02-02-2025","03-02-2025","04-02-2025","05-02-2025","06-02-2025","07-02-2025","08-02-2025","09-02-2025","10-02-2025","11-02-2025","12-02-2025","13-02-2025","14-02-2025","15-02-2025","16-02-2025","17-02-2025","18-02-2025","19-02-2025","20-02-2025","21-02-2025","22-02-2025","23-02-2025","24-02-2025","25-02-2025","26-02-2025","27-02-2025","28-02-2025","01-03-2025","02-03-2025","03-03-2025","04-03-2025","05-03-2025","06-03-2025","07-03-2025","08-03-2025","09-03-2025","10-03-2025","11-03-2025","12-03-2025","13-03-2025","14-03-2025","15-03-2025","16-03-2025","17-03-2025","18-03-2025","19-03-2025","20-03-2025","21-03-2025","22-03-2025","23-03-2025","24-03-2025","25-03-2025","26-03-2025","27-03-2025","28-03-2025","29-03-2025","30-03-2025","31-03-2025","01-04-2025","02-04-2025","03-04-2025","04-04-2025","05-04-2025","06-04-2025","07-04-2025","08-04-2025","09-04-2025","10-04-2025","11-04-2025","12-04-2025","13-04-2025","14-04-2025","15-04-2025","16-04-2025","17-04-2025","18-04-2025","19-04-2025","20-04-2025","21-04-2025","22-04-2025","23-04-2025","24-04-2025","25-04-2025","26-04-2025","27-04-2025","28-04-2025","29-04-2025","30-04-2025","01-05-2025","02-05-2025","03-05-2025","04-05-2025","05-05-2025","06-05-2025","07-05-2025","08-05-2025","09-05-2025","10-05-2025","11-05-2025","12-05-2025","13-05-2025","14-05-2025","15-05-2025","16-05-2025","17-05-2025","18-05-2025","19-05-2025","20-05-2025","21-05-2025","22-05-2025","23-05-2025","24-05-2025","25-05-2025","26-05-2025","27-05-2025","28-05-2025","29-05-2025","30-05-2025","31-05-2025","01-06-2025","02-06-2025","03-06-2025","04-06-2025","05-06-2025","06-06-2025","07-06-2025","08-06-2025"],"axisLine":{"lineStyle":{"color":"#ccc"}},"axisLabel":{"fontSize":11,"fontFamily":"Arial","color":"#555"}},"yAxis":{"name":"\u05DE\u05E1\u05E4\u05E8 \u05DE\u05D0\u05D5\u05DE\u05EA\u05D9\u05DD","nameLocation":"middle","nameTextStyle":{"color":"black","fontSize":14,"fontFamily":"Open Sans","padding":[0,0,20,0]},"type":"value","axisLine":{"show":false},"axisTick":{"show":false},"splitLine":{"lineStyle":{"color":"#eee"}},"axisLabel":{"fontSize":11,"fontFamily":"Arial","color":"#555"}},"series":[{"name":"0-4","type":"line","data":["0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","1","1","1","1","1","1","0","0","1","1","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"],"smooth":true,"symbol":"circle","symbolSize":6,"itemStyle":{"color":"#A88FEF"},"lineStyle":{"color":"#A88FEF","width":2}},{"name":"5-11","type":"line","smooth":true,"symbol":"circle","symbolSize":6,"data":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]},{"name":"12-15","type":"line","smooth":true,"symbol":"circle","symbolSize":6,"data":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]},{"name":"16-19","type":"line","smooth":true,"symbol":"circle","symbolSize":6,"data":["0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"]}]} 
*/
